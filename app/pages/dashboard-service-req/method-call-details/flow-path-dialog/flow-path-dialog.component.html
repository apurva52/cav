<p-dialog *ngIf="data" [(visible)]="visible" [resizable]="true" [modal]="true"  (onHide)="closeDialog()" class="secondary-dialog" header="Flowpath Details" [draggable]="false" closeIcon="icons8-delete" [style]="{width: '35vw'}">

    <div class="p-grid p-col-12">
        <div class="p-col-11">
            <span>Total Flowpath(s):1</span>
        </div>
        <!-- <div class="p-col-1">
            <button pButton icon="icons8 icons8-search-property button-icon" class="ui-icon-button" (click)="toggleFilters()"></button>
        </div> -->
    </div>
    <p-card>
        <p-table #flowPathData [columns]="data.headers" [value]="data.data" [rowHover]="true" [paginator]="false" [rows]="data.paginator.rows" [showCurrentPageReport]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
            [responsive]="true" [scrollable]="true" scrollHeight="calc(150px)" selectionMode="single">

            <ng-template pTemplate="header" let-columns>
                <tr *ngFor="let column of columns;let i = index">

                    <th *ngFor="let col of column.cols;let i = index" [attr.coldiv]="col.coldiv" [pSortableColumn]="col.valueField" [attr.rowdiv]="col.rowdiv" class="text-left">
                        <div class="p-grid p-align-center p-justify-between">
                            <div class="text-left">
                                {{ col.label }}
                            </div>
                            <!-- <div *ngIf="col.isSort" class="right">
                                <p-sortIcon
                                  *ngIf="col.isSort"
                                  [field]="col.valueField"
                                  class="text-right"
                                  ariaLabel="Activate to sort"
                                  ariaLabelDesc="Activate to sort in descending order"
                                  ariaLabelAsc="Activate to sort in ascending order"
                                >
                                </p-sortIcon>
                              </div> -->
                        </div>
                    </th>
                </tr>
                <!-- <tr *ngFor="let headerRow of data.headers">
                    <ng-container *ngIf="isEnabledColumnFilter">

                        <th *ngFor="let col of headerRow.cols" [ngSwitch]="col.label">
                            <div *ngIf="col.filter.isFilter === true && col.filter.type === 'custom'">
                                <input class="w-100-p" [tooltipZIndex]="tooltipzindex" pTooltip="Use operators(>,<,=>,=<,= and -(treat as in between)) to use filter.If no operator is used then it will act as '>='." *ngSwitchCase="col.label" pInputText type="text" (input)="flowPathData.filter($event.target.value, col.valueField , 'custom')">
                            </div>
                            <div *ngIf="col.filter.isFilter === true && col.filter.type === 'contains'">
                                <input class="w-100-p" [tooltipZIndex]="tooltipzindex" pTooltip="Will filter metric names which contains given text." *ngSwitchCase="col.label" pInputText type="text" (input)="flowPathData.filter($event.target.value, col.valueField , 'contains')">
                            </div>
                        </th>
                    </ng-container>
                </tr> -->
            </ng-template>

            <ng-template pTemplate="body" let-row let-columns="columns" let-rowIndex="rowIndex">

                <tr *ngFor="let column of columns;let i = index">

                    <td *ngFor="let col of column.cols; let i = index" class="{{ col.dataClasses }}">

                        <span> {{ row[col.valueField] }} </span>

                    </td>
                </tr>
            </ng-template>

            <ng-template pTemplate="emptymessage" let-columns>
                <tr>
                    <td [attr.coldiv]="columns.length + 1" class="text-center">
                        <span *ngIf="error">Error while loading data</span>
                        <span *ngIf="empty">Empty Table</span>
                        <span *ngIf="loading">Loading</span>
                    </td>
                </tr>
            </ng-template>


        </p-table>
    </p-card>
</p-dialog>
