<div class="log-integration-container" #widget>

    <!-- <p-card class="pattern">
        <p-header>
            <span class="selected-label"> Integration </span>
        </p-header>
        <div class="main-content">
            <div class="p-col-12">
                <label class="">Index Patterns</label>
            </div>
            <div class="p-col-12">
                <p-dropdown class="ui-dropdown-label" [options]="data.pattern" dropdownIcon="icons8-expand-arrow">
                </p-dropdown>
            </div>
        </div>
    </p-card> -->
    <p-card class="pattern">
        <p-header>
            <span class="selected-label"> Fields </span>
        </p-header>
        <div class="fields-content">
            <p-table [rowHover]="true" [value]="data.data" [columns]="data.headers[0].cols" [scrollable]="true"
                scrollHeight="calc({{widget.offsetHeight}}px - 60px)" rowExpandMode="multiple" dataKey="name" class="all-tables">
                <ng-template pTemplate="body"  let-row let-columns="columns" let-expanded="expanded" let-rowIndex="rowIndex">
                    <tr class="relative">
                        <td *ngFor="let col of columns" class="{{ col.classes }}">
                            <p-checkbox [pRowToggler]="row" name="groupname" value="val" label="{{ row[col.valueField] }}"></p-checkbox>
                            <button pButton type="button" label="Add"  [disabled]="row.isSelected == true" class="addbutton ui-button-rounded" (click)="addField(row[col.valueField],row)"></button>
                        </td>
                    </tr>
                </ng-template>
                <ng-template pTemplate="rowexpansion" let-rowData let-row let-columns="columns" >
                    <tr> <td> 
                        <div class="p-grid p-justify-between font-weight-700"> 
                            <span>Quick Count</span>
                            <span>{{row.QuickCount}}/{{row.totalCount}}</span>
                        </div>
                       </td>
                    </tr>
                    <tr class="bg-color">
                        <td *ngFor="let col of columns" class="{{ col.classes }}">   
                            <p-table [value]="row.fields" [rows]="5"  [paginator]="true">
                                <ng-template pTemplate="body"  let-exRow>
                                    <tr>
                            <div class="child-block">
                                <div class="divide1 w-70-p"><span class="child-text">{{exRow.value}}</span></div>
                                <div class="divide1 w-15-p text-center"><span class="child-text">{{exRow.percentage}}%</span></div>
                                <div class="icon-block w-15-p">
                                    <i class="icons8 icons8-minus" (click)="minusfilter(rowData,exRow)"></i>
                                    <i class="icons8 icons8-plus-math" (click)="plusfilter(rowData,exRow)"></i>
                                </div>
                            </div>
                        </tr>
                        </ng-template>
                        </p-table>
                            <!-- <div class="child-block">
                                <div class="divide"><span class="child-text">November 24th 2020, 03:50:34:339</span></div>
                                <div class="divide"><span class="child-text">50%</span></div>
                                <div class="icon-block">
                                    <i class="icons8 icons8-minus"></i>
                                    <i class="icons8 icons8-plus-math"></i>
                                </div>
                            </div>  -->
                            <!-- <div class="child-btn p-justify-between text-right">
                                <button pButton type="button" label="VISUALIZE"></button>                                      
                            </div>                               -->
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </p-card>
</div>