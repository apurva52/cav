<div class="h-100-vh create-visualization-container">
    <div class="header">
        <app-header></app-header>
    </div>
    <p-toolbar class="ui-secondary-toolbar">
        <div class="p-grid p-justify-between p-align-center pl-5 pr-5">
            <div class="p-col-10">
                <div class="p-grid p-align-center">
                    <a  routerLink="/visualization">
                        <i class="icons8 icons8-left toolbar-icon-color"></i>
                    </a>
                    <div class="p-col ui-toolbar-text">CREATE VISUALIZATION</div>
                </div>
            </div>
        </div>
    </p-toolbar>
    <div class="breadcrumbs">
        <p-breadcrumb  [model]="breadcrumb.getBreadcrumbMenu() | async" (inItemClick)="breadcrumb.handleBreadcrumbClick($event)"></p-breadcrumb>
    </div>
    <div class="vertical-container" *ngIf="data">
        <div class="p-grid">
            <div class="p-col-10 p-justify-end">
                
                <!-- <div class="p-input-icon-left search-div-css">
                     <i class="icons8 icons8-filter left filter-icon" (click)="commonFilter.open()"></i> 
                    <i class="icons8 icons8-search"></i>
                    <p-autoComplete [(ngModel)]="reportitem" [suggestions]="filteredReports" (completeMethod)="filterFields($event)" field="name" [size]="30" placeholder="" [minLength]="1" class="input-field-search" [dropdown]="true" dropdownIcon="icons8 icons8-expand-arrow">
                    </p-autoComplete>
                    <i class="icons8 icons8-edit-2"></i>
                    <button pButton type="button" class="ui-button ui-button-rounded save-button" label="SAVE" (click)="saveSearchData.open()"></button>
                </div> -->
            </div>
            <!-- <div class="p-col-2 icons-container p-grid p-justify-end p-align-center">
                <button pButton icon="icons8 icons8-tune" class="icon-button no-shadow" pTooltip="Setting" (click)="menu.toggle($event);"></button>
                <p-menu #menu [popup]="true" styleClass="widget-menu" [model]="settingOptions" [showTransitionOptions]="'0ms'" [hideTransitionOptions]="'0ms'"></p-menu>
                <button pButton icon="icons8 icons8-star" class="icon-button no-shadow" pTooltip="Rating"></button>
                <button pButton icon="icons8 icons8-synchronize" class="icon-button no-shadow" pTooltip="Refresh"></button>
                <button pButton icon="icons8 icons8-delete-trash" class="icon-button no-shadow" pTooltip="Delete"></button>
            </div> -->
        </div>

        <div class="p-grid">
            <div class="p-col-12">
                <p-card>
                    <p-header>
                        <span class="selected-label line-height"> Chart Layouts </span>
                    </p-header>
                    <p-table [value]="data.layoutTable.data" [columns]="selectedColumns" [columns]="data.layoutTable.headers[0].cols" selectionMode="single">
                        <ng-template pTemplate="body" let-row let-rowData let-columns="columns">
                            <tr [pSelectableRow]="row" routerLink="/create-visualization" [queryParams]="rowData">
                                <td *ngFor="let col of columns" class="{{ col.classes }}">
                                    <i class="td-icon" *ngIf="col.iconField && row.icon" [ngClass]="row.icon"></i> {{ row[col.valueField] }}
                                </td>
                            </tr>
                        </ng-template>
                    </p-table>

                </p-card>
            </div>
            <!-- <div class="p-col-6">
                <p-card>
                    <p-header>
                        <span class="selected-label line-height"> Saved Visualizations </span>
                    </p-header>
                    <div class="p-grid">
                        <div class="p-col-6">
                            <div class="ui-inputgroup w-100-p">
                                <span class="ui-inputgroup-addon">
                                    <i class="icons8 icons8-search"></i>
                                </span>
                                <input type="text" #searchInput pInputText placeholder="Search" class="w-100-p" (input)="savedVisualization.filterGlobal($event.target.value, 'contains')">
                            </div>
                        </div>
                         <div class="p-col-6 text-right">
                            <button pButton type="button" class="ui-button ui-button-rounded ui-button-secondary" label="Manage Visualizations">
                            </button>
                        </div> 
                        <p-table #savedVisualization [value]="data.visualizationTable.data" [columns]="selectedColumns" [columns]="data.visualizationTable.headers[0].cols" selectionMode="single" [globalFilterFields]="['name']">
                            <ng-template pTemplate="body" let-row let-columns="columns">
                                <tr [pSelectableRow]="row">
                                    <td *ngFor="let col of columns" class="{{ col.classes }}">
                                        <i class="td-icon" *ngIf="col.iconField && row.icon" [ngClass]="row.icon"></i> {{ row[col.valueField] }}
                                    </td>
                                </tr>
                            </ng-template>
                        </p-table>
                    </div>
                </p-card>
            </div> -->
        </div>
    </div>

    <app-commonfilter #commonFilter></app-commonfilter>
    <app-save-dialog #saveSearchData></app-save-dialog>